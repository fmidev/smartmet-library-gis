#########################################################################
# LINE IDENTIFIERS (first character on the line)
#########################################################################
#
# T = Test identifier (number or string)
# F = Functionality to test (LINECLIP,LINECUT,POLYCLIP,POLYCUT)
# S = Shape definition (cutting/clipping shape)
#         RECT,x1,y2,x2,y2[,precision] 
#         CIRCLE,centerX,centerY,radius[,precision] 
#         SPHERE,centerX,centerY,radius[,precision] 
# I = Input WKT  (= geometry to clip/cut by the given shape)
# O = Output WKT (= expected result)
# 
#########################################################################



#########################################################################
# POLYCUT: RECTANGLE
#########################################################################

 # inside
T:1
F:POLYCUT
S:RECT,0,0,10,10
I:LINESTRING (1 1,1 9,9 9,9 1)
O:GEOMETRYCOLLECTION EMPTY

#########################################################################

# outside
T:2
F:POLYCUT
S:RECT,0,0,10,10
I:LINESTRING (-1 -9,-1 11,9 11)
O:LINESTRING (-1 -9,-1 11,9 11)

#########################################################################

# go in from left
T:3
F:POLYCUT
S:RECT,0,0,10,10
I:LINESTRING (-1 5,5 5,9 9)
O:LINESTRING (-1 5,0 5)
      
#########################################################################
      
# go out from right
T:4
F:POLYCUT
S:RECT,0,0,10,10
I:LINESTRING (5 5,8 5,12 5)
O:LINESTRING (10 5,12 5)

#########################################################################

# go in and out
T:5
F:POLYCUT
S:RECT,0,0,10,10
I:LINESTRING (5 -1,5 5,1 2,-3 2,1 6)
O:MULTILINESTRING ((5 -1,5 0),(0 2,-3 2,0 5))
      
#########################################################################
      
# go along left edge
T:6
F:POLYCUT
S:RECT,0,0,10,10
I:LINESTRING (0 3,0 5,0 7)
O:GEOMETRYCOLLECTION EMPTY

#########################################################################

# go out from left edge
T:7
F:POLYCUT
S:RECT,0,0,10,10
I:LINESTRING (0 3,0 5,-1 7)
O:LINESTRING (0 5,-1 7)
      
#########################################################################
      
# go in from left edge
T:8
F:POLYCUT
S:RECT,0,0,10,10
I:LINESTRING (0 3,0 5,2 7)
O:GEOMETRYCOLLECTION EMPTY
      
#########################################################################
      
# triangle corner at bottom left corner
T:9
F:POLYCUT
S:RECT,0,0,10,10
I:LINESTRING (2 1,0 0,1 2)
O:GEOMETRYCOLLECTION EMPTY

#########################################################################

# go from in to edge and back in
T:10
F:POLYCUT
S:RECT,0,0,10,10
I:LINESTRING (3 3,0 3,0 5,2 7)
O:GEOMETRYCOLLECTION EMPTY

#########################################################################

# go from in to edge and then straight out
T:11
F:POLYCUT
S:RECT,0,0,10,10
I:LINESTRING (5 5,10 5,20 5)
O:LINESTRING (10 5,20 5)
      
#########################################################################
      
# triangle corner at left edge
T:12
F:POLYCUT
S:RECT,0,0,10,10
I:LINESTRING (3 3,0 6,3 9)
O:GEOMETRYCOLLECTION EMPTY

#########################################################################

# polygon completely inside
T:13
F:POLYCUT
S:RECT,0,0,10,10
I:POLYGON ((5 5,5 6,6 6,6 5,5 5))
O:GEOMETRYCOLLECTION EMPTY

#########################################################################

# polygon completely outside
T:14
F:POLYCUT
S:RECT,0,0,10,10
I:POLYGON ((15 15,15 16,16 16,16 15,15 15))
O:POLYGON ((15 15,15 16,16 16,16 15,15 15))

#########################################################################

# polygon surrounds the rectangle
T:15
F:POLYCUT
S:RECT,0,0,10,10
I:POLYGON ((-1 -1,-1 11,11 11,11 -1,-1 -1))
O:POLYGON ((-1 -1,-1 11,11 11,11 -1,-1 -1),(0 0,10 0,10 10,0 10,0 0))

#########################################################################

# polygon cuts the rectangle
T:16
F:POLYCUT
S:RECT,0,0,10,10
I:POLYGON ((-1 -1,-1 5,5 5,5 -1,-1 -1))
O:POLYGON ((-1 -1,-1 5,0 5,0 0,5 0,5 -1,-1 -1))

#########################################################################

# polygon with hole cuts the rectangle
T:17
F:POLYCUT
S:RECT,0,0,10,10
I:POLYGON ((-2 -2,-2 5,5 5,5 -2,-2 -2), (3 3,4 4,4 2,3 3))
O:POLYGON ((-2 -2,-2 5,0 5,0 0,5 0,5 -2,-2 -2))

#########################################################################

# rectangle cuts both the polygon and the hole
T:18
F:POLYCUT
S:RECT,0,0,10,10
I:POLYGON ((-2 -2,-2 5,5 5,5 -2,-2 -2), (-1 -1,3 1,3 3,-1 -1))
O:POLYGON ((-2 -2,-2 5,0 5,0 0,-1 -1,1 0,5 0,5 -2,-2 -2))
      
#########################################################################
      
# Triangle at two corners and one edge
T:19
F:POLYCUT
S:RECT,0,0,10,10
I:POLYGON ((0 0,5 10,10 0,0 0))
O:GEOMETRYCOLLECTION EMPTY

#########################################################################

# Same triangle with another starting point
T:20
F:POLYCUT
S:RECT,0,0,10,10
I:POLYGON ((5 10,10 0,0 0,5 10))
O:GEOMETRYCOLLECTION EMPTY

#########################################################################

# Triangle intersection at corner and edge
T:21
F:POLYCUT
S:RECT,0,0,10,10
I:POLYGON ((-5 -5,5 5,5 -5,-5 -5))
O:POLYGON ((-5 -5,0 0,5 0,5 -5,-5 -5))

#########################################################################

# All triangles fully inside
T:22
F:POLYCUT
S:RECT,0,0,10,10
I:POLYGON ((0 0,0 10,10 10,0 0))
O:GEOMETRYCOLLECTION EMPTY

#########################################################################

T:23
F:POLYCUT
S:RECT,0,0,10,10
I:POLYGON ((0 5,0 10,10 10,0 5))
O:GEOMETRYCOLLECTION EMPTY

#########################################################################

T:24
F:POLYCUT
S:RECT,0,0,10,10
I:POLYGON ((0 10,10 10,5 0,0 10))
O:GEOMETRYCOLLECTION EMPTY

#########################################################################

T:25
F:POLYCUT
S:RECT,0,0,10,10
I:POLYGON ((0 10,10 10,5 5,0 10))
O:GEOMETRYCOLLECTION EMPTY

#########################################################################

T:26
F:POLYCUT
S:RECT,0,0,10,10
I:POLYGON ((0 10,5 10,0 5,0 10))
O:GEOMETRYCOLLECTION EMPTY

#########################################################################

T:27
F:POLYCUT
S:RECT,0,0,10,10
I:POLYGON ((0 10,10 5,0 5,0 10))
O:GEOMETRYCOLLECTION EMPTY

#########################################################################

T:28
F:POLYCUT
S:RECT,0,0,10,10
I:POLYGON ((0 10,10 0,0 5,0 10))
O:GEOMETRYCOLLECTION EMPTY

#########################################################################

T:29
F:POLYCUT
S:RECT,0,0,10,10
I:POLYGON ((0 10,5 0,0 5,0 10))
O:GEOMETRYCOLLECTION EMPTY

#########################################################################

T:30
F:POLYCUT
S:RECT,0,0,10,10
I:POLYGON ((0 10,5 5,0 5,0 10))
O:GEOMETRYCOLLECTION EMPTY

#########################################################################

T:31
F:POLYCUT
S:RECT,0,0,10,10
I:POLYGON ((0 10,7 7,3 3,0 10))
O:GEOMETRYCOLLECTION EMPTY

#########################################################################

T:32
F:POLYCUT
S:RECT,0,0,10,10
I:POLYGON ((0 10,5 5,5 0,0 10))
O:GEOMETRYCOLLECTION EMPTY

#########################################################################

T:33
F:POLYCUT
S:RECT,0,0,10,10
I:POLYGON ((0 10,10 5,5 0,0 10))
O:GEOMETRYCOLLECTION EMPTY

#########################################################################

T:34
F:POLYCUT
S:RECT,0,0,10,10
I:POLYGON ((2 5,5 7,7 5,2 5))
O:GEOMETRYCOLLECTION EMPTY

#########################################################################

T:35
F:POLYCUT
S:RECT,0,0,10,10
I:POLYGON ((2 5,5 10,7 5,2 5))
O:GEOMETRYCOLLECTION EMPTY

#########################################################################

T:36
F:POLYCUT
S:RECT,0,0,10,10
I:POLYGON ((0 5,5 10,5 5,0 5))
O:GEOMETRYCOLLECTION EMPTY

#########################################################################

T:37
F:POLYCUT
S:RECT,0,0,10,10
I:POLYGON ((0 5,5 10,10 5,0 5))
O:GEOMETRYCOLLECTION EMPTY

#########################################################################

T:38
F:POLYCUT
S:RECT,0,0,10,10
I:POLYGON ((0 5,5 7,10 5,0 5))
O:GEOMETRYCOLLECTION EMPTY

#########################################################################

# No points inside, one intersection
T:39
F:POLYCUT
S:RECT,0,0,10,10
I:POLYGON ((-5 10,0 15,0 10,-5 10))
O:POLYGON ((-5 10,0 15,0 10,-5 10))

#########################################################################

T:40
F:POLYCUT
S:RECT,0,0,10,10
I:POLYGON ((-5 10,0 5,-5 0,-5 10))
O:POLYGON ((-5 0,-5 10,0 5,-5 0))

#########################################################################

# No points inside, two intersections
T:41
F:POLYCUT
S:RECT,0,0,10,10
I:POLYGON ((-5 5,0 10,0 0,-5 5))
O:POLYGON ((-5 5,0 10,0 0,-5 5))

#########################################################################

T:42
F:POLYCUT
S:RECT,0,0,10,10
I:POLYGON ((-5 5,0 10,0 5,-5 5))
O:POLYGON ((-5 5,0 10,0 5,-5 5))

#########################################################################

T:43
F:POLYCUT
S:RECT,0,0,10,10
I:POLYGON ((-5 5,0 7,0 3,-5 5))
O:POLYGON ((-5 5,0 7,0 3,-5 5))

#########################################################################

# One point inside
T:44
F:POLYCUT
S:RECT,0,0,10,10
I:POLYGON ((5 5,-5 0,-5 10,5 5))
O:POLYGON ((-5 0,-5 10,0.0 7.5,0.0 2.5,-5 0))

#########################################################################

T:45
F:POLYCUT
S:RECT,0,0,10,10
I:POLYGON ((5 0,-5 0,-5 10,5 0))
O:POLYGON ((-5 0,-5 10,0 5,0 0,-5 0))

#########################################################################

T:46
F:POLYCUT
S:RECT,0,0,10,10
I:POLYGON ((10 0,-10 0,-10 10,10 0))
O:POLYGON ((-10 0,-10 10,0 5,0 0,-10 0))

#########################################################################

T:47
F:POLYCUT
S:RECT,0,0,10,10
I:POLYGON ((5 0,-5 5,-5 10,5 0))
O:POLYGON ((-5 5,-5 10,0 5,0.0 2.5,-5 5))

#########################################################################

T:48
F:POLYCUT
S:RECT,0,0,10,10
I:POLYGON ((10 5,-10 0,-10 10,10 5))
O:POLYGON ((-10 0,-10 10,0.0 7.5,0.0 2.5,-10 0))

#########################################################################

T:49
F:POLYCUT
S:RECT,0,0,10,10
I:POLYGON ((10 10,-10 0,-10 5,10 10))
O:POLYGON ((-10 0,-10 5,0.0 7.5,0 5,-10 0))

#########################################################################

T:50
F:POLYCUT
S:RECT,0,0,10,10
I:POLYGON ((5 5,-5 -5,-5 15,5 5))
O:POLYGON ((-5 -5,-5 15,0 10,0 0,-5 -5))

#########################################################################

T:51
F:POLYCUT
S:RECT,0,0,10,10
I:POLYGON ((10 5,-10 -5,-10 15,10 5))
O:POLYGON ((-10 -5,-10 15,0 10,0 0,-10 -5))

#########################################################################

T:52
F:POLYCUT
S:RECT,0,0,10,10
I:POLYGON ((5 0,-5 0,-5 20,5 0))
O:POLYGON ((-5 0,-5 20,0 10,0 0,-5 0))

#########################################################################

T:53
F:POLYCUT
S:RECT,0,0,10,10
I:POLYGON ((10 0,-10 0,-10 20,10 0))
O:POLYGON ((-10 0,-10 20,0 10,0 0,-10 0))

#########################################################################

T:54
F:POLYCUT
S:RECT,0,0,10,10
I:POLYGON ((5 5,-10 5,0 15,5 5))
O:POLYGON ((-10 5,0 15,2.5 10.0,0 10,0 5,-10 5))

#########################################################################

T:55
F:POLYCUT
S:RECT,0,0,10,10
I:POLYGON ((5 5,-5 -5,0 15,5 5))
O:POLYGON ((-5 -5,0 15,2.5 10.0,0 10,0 0,-5 -5))

#########################################################################

T:56
F:POLYCUT
S:RECT,0,0,10,10
I:POLYGON ((5 5,-15 -20,-15 30,5 5))
O:POLYGON ((-15 -20,-15 30,1 10,0 10,0 0,1 0,-15 -20))

#########################################################################

# Two points inside
T:57
F:POLYCUT
S:RECT,0,0,10,10
I:POLYGON ((5 7,5 3,-5 5,5 7))
O:POLYGON ((-5 5,0 6,0 4,-5 5))

#########################################################################

T:58
F:POLYCUT
S:RECT,0,0,10,10
I:POLYGON ((5 7,5 3,-5 13,5 7))
O:POLYGON ((-5 13,0 10,0 8,-5 13))

#########################################################################

T:59
F:POLYCUT
S:RECT,0,0,10,10
I:POLYGON ((6 6,4 4,-4 14,6 6))
O:POLYGON ((-4 14,1.0 10.0,0 10,0 9,-4 14))

#########################################################################

# Polygon with hole which surrounds the rectangle
T:60
F:POLYCUT
S:RECT,0,0,10,10
I:POLYGON ((-2 -2,-2 12,12 12,12 -2,-2 -2),(-1 -1,11 -1,11 11,-1 11,-1 -1))
O:POLYGON ((-2 -2,-2 12,12 12,12 -2,-2 -2),(-1 -1,11 -1,11 11,-1 11,-1 -1))

#########################################################################

# Polygon surrounding the rect, but with a hole inside the rect
T:61
F:POLYCUT
S:RECT,0,0,10,10
I:POLYGON ((-2 -2,-2 12,12 12,12 -2,-2 -2),(1 1,9 1,9 9,1 9,1 1))
O:POLYGON ((-2 -2,-2 12,12 12,12 -2,-2 -2),(0 0,10 0,10 10,0 10,0 0))

#########################################################################

# Polygon with hole cut at the right corner
T:62
F:POLYCUT
S:RECT,0,0,10,10
I:POLYGON ((5 5,15 5,15 -5,5 -5,5 5),(8 1,8 -1,9 -1,9 1,8 1))
O:POLYGON ((5 -5,5 0,8 0,8 -1,9 -1,9 0,10 0,10 5,15 5,15 -5,5 -5))

#########################################################################

# Polygon going around a corner
T:63
F:POLYCUT
S:RECT,0,0,10,10
I:POLYGON ((-6 5,5 5,5 -6,-6 5))
O:POLYGON ((-6 5,0 5,0 0,5 0,5 -6,-6 5))

#########################################################################

# Hole in a corner
T:64
F:POLYCUT
S:RECT,0,0,10,10
I:POLYGON ((-15 -15,-15 15,15 15,15 -15,-15 -15),(-5 5,-5 -5,5 -5,5 5,-5 5))
O:POLYGON ((-15 -15,-15 15,15 15,15 -15,-15 -15),(-5 -5,5 -5,5 0,10 0,10 10,0 10,0 5,-5 5,-5 -5))

#########################################################################

# Hole going around a corner
T:65
F:POLYCUT
S:RECT,0,0,10,10
I:POLYGON ((-15 -15,-15 15,15 15,15 -15,-15 -15),(-6 5,5 -6,5 5,-6 5))
O:POLYGON ((-15 -15,-15 15,15 15,15 -15,-15 -15),(-6 5,5 -6,5 0,10 0,10 10,0 10,0 5,-6 5))

#########################################################################

# Surround the rectangle, hole outside rectangle
T:66
F:POLYCUT
S:RECT,0,0,10,10
I:POLYGON ((-15 -15,-15 15,15 15,15 -15,-15 -15),(-5 5,-6 5,-6 6,-5 6,-5 5))
O:POLYGON ((-15 -15,-15 15,15 15,15 -15,-15 -15),(-6 5,-5 5,-5 6,-6 6,-6 5),(0 0,10 0,10 10,0 10,0 0))

#########################################################################

# Surround the rectangle, hole outside rectangle but shares edge
T:67
F:POLYCUT
S:RECT,0,0,10,10
I:POLYGON ((-15 -15,-15 15,15 15,15 -15,-15 -15),(-1 5,0 5,0 6,-1 6,-1 5))
O:POLYGON ((-15 -15,-15 15,15 15,15 -15,-15 -15),(-1 5,0 5,0 0,10 0,10 10,0 10,0 6,-1 6,-1 5))

#########################################################################

# Polygon with hole, box intersects both
T:68
F:POLYCUT
S:RECT,0,0,10,10
I:POLYGON ((-5 1,-5 9,5 9,5 1,-5 1),(-4 8,-4 2,4 2,4 8,-4 8)))
O:POLYGON ((-5 1,-5 9,0 9,0 8,-4 8,-4 2,0 2,0 1,-5 1))

#########################################################################

# Polygon with hole, box intersects both - variant 2
T:69
F:POLYCUT
S:RECT,0,0,10,10
I:POLYGON ((-15 1,-15 15,15 15,15 1,-15 1),(-1 3,-1 2,1 2,1 3,-1 3))
O:POLYGON ((-15 1,-15 15,15 15,15 1,10 1,10 10,0 10,0 3,-1 3,-1 2,0 2,0 1,-15 1))
 
 #########################################################################
 