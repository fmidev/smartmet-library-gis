#########################################################################
# LINE IDENTIFIERS (first character on the line)
#########################################################################
#
# T = Test identifier (number or string)
# F = Functionality to test (LINECLIP,LINECUT,POLYCLIP,POLYCUT)
# S = Shape definition (cutting/clipping shape)
#         RECT,x1,y2,x2,y2[,precision] 
#         CIRCLE,centerX,centerY,radius[,precision] 
#         SPHERE,centerX,centerY,radius[,precision] 
# I = Input WKT  (= geometry to clip/cut by the given shape)
# O = Output WKT (= expected result)
# 
#########################################################################



#########################################################################
# POLYCLIP: RECTANGLE
#########################################################################

 # inside
T:1
F:POLYCLIP
S:RECT,0,0,10,10
I:LINESTRING (1 1,1 9,9 9,9 1)
O:LINESTRING (1 1,1 9,9 9,9 1)

#########################################################################
      
# outside
T:2
F:POLYCLIP
S:RECT,0,0,10,10
I:LINESTRING (-1 -9,-1 11,9 11)
O:GEOMETRYCOLLECTION EMPTY

#########################################################################

# go in from left
T:3
F:POLYCLIP
S:RECT,0,0,10,10
I:LINESTRING (-1 5,5 5,9 9)
O:LINESTRING (0 5,5 5,9 9)

#########################################################################

# go out from right
T:4
F:POLYCLIP
S:RECT,0,0,10,10
I:LINESTRING (5 5,8 5,12 5)
O:LINESTRING (5 5,8 5,10 5)

#########################################################################

# go in and out
T:5
F:POLYCLIP
S:RECT,0,0,10,10
I:LINESTRING (5 -1,5 5,1 2,-3 2,1 6)
O:MULTILINESTRING ((5 0,5 5,1 2,0 2),(0 5,1 6))

#########################################################################

# go along left edge
T:6
F:POLYCLIP
S:RECT,0,0,10,10
I:LINESTRING (0 3,0 5,0 7)
O:GEOMETRYCOLLECTION EMPTY

#########################################################################

# go out from left edge
T:7
F:POLYCLIP
S:RECT,0,0,10,10
I:LINESTRING (0 3,0 5,-1 7)
O:GEOMETRYCOLLECTION EMPTY

#########################################################################

# go in from left edge
T:8
F:POLYCLIP
S:RECT,0,0,10,10
I:LINESTRING (0 3,0 5,2 7)
O:LINESTRING (0 5,2 7)

#########################################################################

# triangle corner at bottom left corner
T:9
F:POLYCLIP
S:RECT,0,0,10,10
I:LINESTRING (2 1,0 0,1 2)
O:LINESTRING (2 1,0 0,1 2)

#########################################################################

# go from in to edge and back in
T:10
F:POLYCLIP
S:RECT,0,0,10,10
I:LINESTRING (3 3,0 3,0 5,2 7)
O:MULTILINESTRING ((3 3,0 3),(0 5,2 7))

#########################################################################

# go from in to edge and then straight out
T:11
F:POLYCLIP
S:RECT,0,0,10,10
I:LINESTRING (5 5,10 5,20 5)
O:LINESTRING (5 5,10 5)

#########################################################################

# triangle corner at left edge
T:12
F:POLYCLIP
S:RECT,0,0,10,10
I:LINESTRING (3 3,0 6,3 9)
O:LINESTRING (3 3,0 6,3 9)

#########################################################################

# polygon completely inside
T:13
F:POLYCLIP
S:RECT,0,0,10,10
I:POLYGON ((5 5,5 6,6 6,6 5,5 5))
O:POLYGON ((5 5,5 6,6 6,6 5,5 5))

#########################################################################

# polygon completely outside
T:14
F:POLYCLIP
S:RECT,0,0,10,10
I:POLYGON ((15 15,15 16,16 16,16 15,15 15))
O:GEOMETRYCOLLECTION EMPTY

#########################################################################

# polygon surrounds the rectangle
T:15
F:POLYCLIP
S:RECT,0,0,10,10
I:POLYGON ((-1 -1,-1 11,11 11,11 -1,-1 -1))
O:POLYGON ((0 0,0 10,10 10,10 0,0 0))

#########################################################################

# polygon cuts the rectangle
T:16
F:POLYCLIP
S:RECT,0,0,10,10
I:POLYGON ((-1 -1,-1 5,5 5,5 -1,-1 -1))
O:POLYGON ((0 0,0 5,5 5,5 0,0 0))

#########################################################################

# polygon with hole cuts the rectangle
T:17
F:POLYCLIP
S:RECT,0,0,10,10
I:POLYGON ((-2 -2,-2 5,5 5,5 -2,-2 -2), (3 3,4 4,4 2,3 3))
O:POLYGON ((0 0,0 5,5 5,5 0,0 0),(3 3,4 2,4 4,3 3))

#########################################################################

# rectangle cuts both the polygon and the hole
T:18
F:POLYCLIP
S:RECT,0,0,10,10
I:POLYGON ((-2 -2,-2 5,5 5,5 -2,-2 -2), (-1 -1,3 1,3 3,-1 -1))
O:POLYGON ((0 0,0 5,5 5,5 0,1 0,3 1,3 3,0 0))

#########################################################################

# Triangle at two corners and one edge
T:19
F:POLYCLIP
S:RECT,0,0,10,10
I:POLYGON ((0 0,5 10,10 0,0 0))
O:POLYGON ((0 0,5 10,10 0,0 0))

#########################################################################

# This was disabled since there is no code to normalize a polygon which is not modified at
# all by clipping. Same triangle with another starting point is normalized
T:20
F:POLYCLIP
S:RECT,0,0,10,10
I:POLYGON ((5 10,10 0,0 0,5 10))
O:POLYGON ((0 0,5 10,10 0,0 0))

#########################################################################

# Triangle intersection at corner and edge
T:21
F:POLYCLIP
S:RECT,0,0,10,10
I:POLYGON ((-5 -5,5 5,5 -5,-5 -5))
O:POLYGON ((0 0,5 5,5 0,0 0))

#########################################################################

# All triangles fully inside
T:22
F:POLYCLIP
S:RECT,0,0,10,10
I:POLYGON ((0 0,0 10,10 10,0 0))
O:POLYGON ((0 0,0 10,10 10,0 0))

#########################################################################

T:23
F:POLYCLIP
S:RECT,0,0,10,10
I:POLYGON ((0 5,0 10,10 10,0 5))
O:POLYGON ((0 5,0 10,10 10,0 5))

#########################################################################

T:24
F:POLYCLIP
S:RECT,0,0,10,10
I:POLYGON ((0 10,10 10,5 0,0 10))
O:POLYGON ((0 10,10 10,5 0,0 10))

#########################################################################

T:25
F:POLYCLIP
S:RECT,0,0,10,10
I:POLYGON ((0 10,10 10,5 5,0 10))
O:POLYGON ((0 10,10 10,5 5,0 10))

#########################################################################

T:26
F:POLYCLIP
S:RECT,0,0,10,10
I:POLYGON ((0 10,5 10,0 5,0 10))
O:POLYGON ((0 5,0 10,5 10,0 5))

#########################################################################

T:27
F:POLYCLIP
S:RECT,0,0,10,10
I:POLYGON ((0 10,10 5,0 5,0 10))
O:POLYGON ((0 5,0 10,10 5,0 5))

#########################################################################

T:28
F:POLYCLIP
S:RECT,0,0,10,10
I:POLYGON ((0 10,10 0,0 5,0 10))
O:POLYGON ((0 5,0 10,10 0,0 5))

#########################################################################

T:29
F:POLYCLIP
S:RECT,0,0,10,10
I:POLYGON ((0 10,5 0,0 5,0 10))
O:POLYGON ((0 5,0 10,5 0,0 5))

#########################################################################

T:30
F:POLYCLIP
S:RECT,0,0,10,10
I:POLYGON ((0 10,5 5,0 5,0 10))
O:POLYGON ((0 5,0 10,5 5,0 5))

#########################################################################

T:31
F:POLYCLIP
S:RECT,0,0,10,10
I:POLYGON ((0 10,7 7,3 3,0 10))
O:POLYGON ((0 10,7 7,3 3,0 10))

#########################################################################

T:32
F:POLYCLIP
S:RECT,0,0,10,10
I:POLYGON ((0 10,5 5,5 0,0 10))
O:POLYGON ((0 10,5 5,5 0,0 10))

#########################################################################

T:33
F:POLYCLIP
S:RECT,0,0,10,10
I:POLYGON ((0 10,10 5,5 0,0 10))
O:POLYGON ((0 10,10 5,5 0,0 10))

#########################################################################

T:34
F:POLYCLIP
S:RECT,0,0,10,10
I:POLYGON ((2 5,5 7,7 5,2 5))
O:POLYGON ((2 5,5 7,7 5,2 5))

#########################################################################

T:35
F:POLYCLIP
S:RECT,0,0,10,10
I:POLYGON ((2 5,5 10,7 5,2 5))
O:POLYGON ((2 5,5 10,7 5,2 5))

#########################################################################

T:36
F:POLYCLIP
S:RECT,0,0,10,10
I:POLYGON ((0 5,5 10,5 5,0 5))
O:POLYGON ((0 5,5 10,5 5,0 5))

#########################################################################

T:37
F:POLYCLIP
S:RECT,0,0,10,10
I:POLYGON ((0 5,5 10,10 5,0 5))
O:POLYGON ((0 5,5 10,10 5,0 5))

#########################################################################

T:38
F:POLYCLIP
S:RECT,0,0,10,10
I:POLYGON ((0 5,5 7,10 5,0 5))
O:POLYGON ((0 5,5 7,10 5,0 5))

#########################################################################

T:39
F:POLYCLIP
S:RECT,0,0,10,10
# No points inside, one intersection
I:POLYGON ((-5 10,0 15,0 10,-5 10))
O:GEOMETRYCOLLECTION EMPTY

#########################################################################

T:40
F:POLYCLIP
S:RECT,0,0,10,10
I:POLYGON ((-5 10,0 5,-5 0,-5 10))
O:GEOMETRYCOLLECTION EMPTY

#########################################################################

# No points inside, two intersections
T:41
F:POLYCLIP
S:RECT,0,0,10,10
I:POLYGON ((-5 5,0 10,0 0,-5 5))
O:GEOMETRYCOLLECTION EMPTY

#########################################################################

T:42
F:POLYCLIP
S:RECT,0,0,10,10
I:POLYGON ((-5 5,0 10,0 5,-5 5))
O:GEOMETRYCOLLECTION EMPTY

#########################################################################

T:42
F:POLYCLIP
S:RECT,0,0,10,10
I:POLYGON ((-5 5,0 7,0 3,-5 5))
O:GEOMETRYCOLLECTION EMPTY

#########################################################################

# One point inside
T:44
F:POLYCLIP
S:RECT,0,0,10,10
I:POLYGON ((5 5,-5 0,-5 10,5 5))
O:POLYGON ((0.0 2.5,0.0 7.5,5 5,0.0 2.5))

#########################################################################

T:45
F:POLYCLIP
S:RECT,0,0,10,10
I:POLYGON ((5 0,-5 0,-5 10,5 0))
O:POLYGON ((0 0,0 5,5 0,0 0))

#########################################################################

T:46
F:POLYCLIP
S:RECT,0,0,10,10
I:POLYGON ((10 0,-10 0,-10 10,10 0))
O:POLYGON ((0 0,0 5,10 0,0 0))

#########################################################################

T:47
F:POLYCLIP
S:RECT,0,0,10,10
I:POLYGON ((5 0,-5 5,-5 10,5 0))
O:POLYGON ((0.0 2.5,0 5,5 0,0.0 2.5))

#########################################################################

T:48
F:POLYCLIP
S:RECT,0,0,10,10
I:POLYGON ((10 5,-10 0,-10 10,10 5))
O:POLYGON ((0.0 2.5,0.0 7.5,10 5,0.0 2.5))

#########################################################################

T:49
F:POLYCLIP
S:RECT,0,0,10,10
I:POLYGON ((10 10,-10 0,-10 5,10 10))
O:POLYGON ((0 5,0.0 7.5,10 10,0 5))

#########################################################################

T:50
F:POLYCLIP
S:RECT,0,0,10,10
I:POLYGON ((5 5,-5 -5,-5 15,5 5))
O:POLYGON ((0 0,0 10,5 5,0 0))

#########################################################################

T:51
F:POLYCLIP
S:RECT,0,0,10,10
I:POLYGON ((10 5,-10 -5,-10 15,10 5))
O:POLYGON ((0 0,0 10,10 5,0 0))

#########################################################################

T:52
F:POLYCLIP
S:RECT,0,0,10,10
I:POLYGON ((5 0,-5 0,-5 20,5 0))
O:POLYGON ((0 0,0 10,5 0,0 0))

#########################################################################

T:53
F:POLYCLIP
S:RECT,0,0,10,10
I:POLYGON ((10 0,-10 0,-10 20,10 0))
O:POLYGON ((0 0,0 10,10 0,0 0))

#########################################################################

T:54
F:POLYCLIP
S:RECT,0,0,10,10
I:POLYGON ((5 5,-10 5,0 15,5 5))
O:POLYGON ((0 5,0 10,2.5 10.0,5 5,0 5))

#########################################################################

T:55
F:POLYCLIP
S:RECT,0,0,10,10
I:POLYGON ((5 5,-5 -5,0 15,5 5))
O:POLYGON ((0 0,0 10,2.5 10.0,5 5,0 0))

#########################################################################

T:56
F:POLYCLIP
S:RECT,0,0,10,10
I:POLYGON ((5 5,-15 -20,-15 30,5 5))
O:POLYGON ((0 0,0 10,1 10,5 5,1 0,0 0))

#########################################################################

# Two points inside
T:57
F:POLYCLIP
S:RECT,0,0,10,10
I:POLYGON ((5 7,5 3,-5 5,5 7))
O:POLYGON ((0 4,0 6,5 7,5 3,0 4))

#########################################################################

T:58
F:POLYCLIP
S:RECT,0,0,10,10
I:POLYGON ((5 7,5 3,-5 13,5 7))
O:POLYGON ((0 8,0 10,5 7,5 3,0 8))

#########################################################################

T:59
F:POLYCLIP
S:RECT,0,0,10,10
I:POLYGON ((6 6,4 4,-4 14,6 6))
O:POLYGON ((0 9,0 10,1.0 10.0,6 6,4 4,0 9))

#########################################################################

# Polygon with hole which surrounds the rectangle
T:60
F:POLYCLIP
S:RECT,0,0,10,10
I:POLYGON ((-2 -2,-2 12,12 12,12 -2,-2 -2),(-1 -1,11 -1,11 11,-1 11,-1 -1))
O:GEOMETRYCOLLECTION EMPTY

#########################################################################

# Polygon surrounding the rect, but with a hole inside the rect
T:61
F:POLYCLIP
S:RECT,0,0,10,10
I:POLYGON ((-2 -2,-2 12,12 12,12 -2,-2 -2),(1 1,9 1,9 9,1 9,1 1))
O:POLYGON ((0 0,0 10,10 10,10 0,0 0),(1 1,9 1,9 9,1 9,1 1))

#########################################################################

# Polygon with hole cut at the right corner
T:62
F:POLYCLIP
S:RECT,0,0,10,10
I:POLYGON ((5 5,15 5,15 -5,5 -5,5 5),(8 1,8 -1,9 -1,9 1,8 1))
O:POLYGON ((5 0,5 5,10 5,10 0,9 0,9 1,8 1,8 0,5 0))

#########################################################################

# Polygon going around a corner
T:63
F:POLYCLIP
S:RECT,0,0,10,10
I:POLYGON ((-6 5,5 5,5 -6,-6 5))
O:POLYGON ((0 0,0 5,5 5,5 0,0 0))

#########################################################################

# Hole in a corner
T:64
F:POLYCLIP
S:RECT,0,0,10,10
I:POLYGON ((-15 -15,-15 15,15 15,15 -15,-15 -15),(-5 5,-5 -5,5 -5,5 5,-5 5))
O:POLYGON ((0 5,0 10,10 10,10 0,5 0,5 5,0 5))

#########################################################################

# Hole going around a corner
T:65
F:POLYCLIP
S:RECT,0,0,10,10
I:POLYGON ((-15 -15,-15 15,15 15,15 -15,-15 -15),(-6 5,5 -6,5 5,-6 5))
O:POLYGON ((0 5,0 10,10 10,10 0,5 0,5 5,0 5))

#########################################################################

# Surround the rectangle, hole outside rectangle
T:66
F:POLYCLIP
S:RECT,0,0,10,10
I:POLYGON ((-15 -15,-15 15,15 15,15 -15,-15 -15),(-6 5,-5 5,-5 6,-6 6,-6 5))
O:POLYGON ((0 0,0 10,10 10,10 0,0 0))

#########################################################################

# Surround the rectangle, hole outside rectangle but shares edge
T:67
F:POLYCLIP
S:RECT,0,0,10,10
I:POLYGON ((-15 -15,-15 15,15 15,15 -15,-15 -15),(0 5,-1 5,-1 6,0 6,0 5))
O:POLYGON ((0 0,0 10,10 10,10 0,0 0))

#########################################################################

# Polygon with hole, box intersects both
T:68
F:POLYCLIP
S:RECT,0,0,10,10
I:POLYGON ((-5 1,-5 9,5 9,5 1,-5 1),(-4 8,-4 2,4 2,4 8,-4 8)))
O:POLYGON ((0 1,0 2,4 2,4 8,0 8,0 9,5 9,5 1,0 1))

#########################################################################

# Polygon with hole, box intersects both - variant 2
T:69
F:POLYCLIP
S:RECT,0,0,10,10
I:POLYGON ((-15 1,-15 15,15 15,15 1,-5 1),(-1 3,-1 2,1 2,1 3,-1 3))
O:POLYGON ((0 1,0 2,1 2,1 3,0 3,0 10,10 10,10 1,0 1))

#########################################################################

# Hole touches the edge
T:70
F:POLYCLIP
S:RECT,0,0,10,10
I:POLYGON ((1 1,1 9,10 9,10 1,1 1),(5 5,6 5,5 6,5 5))
O:POLYGON ((1 1,1 9,10 9,10 1,1 1),(5 5,6 5,5 6,5 5))

#########################################################################

T:71
F:POLYCLIP
S:RECT,0,0,10,10
I:POLYGON ((1 9,10 9,10 1,1 1,1 9),(5 5,6 5,5 6,5 5))
O:POLYGON ((1 1,1 9,10 9,10 1,1 1),(5 5,6 5,5 6,5 5))

#########################################################################

T:72
F:POLYCLIP
S:RECT,0,0,10,10
I:POLYGON ((10 9,10 1,1 1,1 9,10 9),(5 5,6 5,5 6,5 5))
O:POLYGON ((1 1,1 9,10 9,10 1,1 1),(5 5,6 5,5 6,5 5))

#########################################################################

T:73
F:POLYCLIP
S:RECT,0,0,10,10
I:POLYGON ((10 1,1 1,1 9,10 9,10 1),(5 5,6 5,5 6,5 5))
O:POLYGON ((1 1,1 9,10 9,10 1,1 1),(5 5,6 5,5 6,5 5))

#########################################################################

T:74
F:POLYCLIP
S:RECT,0,0,10,10
I:POLYGON ((1 1,1 9,10 9,10 1,1 1),(6 5,5 6,5 5,6 5))
O:POLYGON ((1 1,1 9,10 9,10 1,1 1),(5 5,6 5,5 6,5 5))

#########################################################################

T:75
F:POLYCLIP
S:RECT,0,0,10,10
I:POLYGON ((1 1,1 9,10 9,10 1,1 1),(5 6,5 5,6 5,5 6))
O:POLYGON ((1 1,1 9,10 9,10 1,1 1),(5 5,6 5,5 6,5 5))

#########################################################################

T:76
F:POLYCLIP
S:RECT,0,0,10,10
I:POLYGON ((1 1,1 9,10 9,10 1,1 1),(5 5,6 5,5 6,5 5))
O:POLYGON ((1 1,1 9,10 9,10 1,1 1),(5 5,6 5,5 6,5 5))

#########################################################################

